:root {

    /* Colores del Modo Claro */

    --primary-color: #588157; /* Verde suave */

    --secondary-color: #a3b18a; 

    --bg-main: #edf2f4;

    --bg-second: #ffffff;

    --color-txt: #2b2d42;

    --color-txt-subtle: #8d99ae;

    --border-color: #dee2e6;

    --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);

    --color-save: #588157; /* Color para el bot√≥n Guardar */

}



body.dark {

    /* Colores del Modo Oscuro */

    --primary-color: #a3b18a; /* Verde suave oscuro */

    --secondary-color: #588157; 

    --bg-main: #1d2024;

    --bg-second: #282c34;

    --color-txt: #f0f0f0;

    --color-txt-subtle: #8d99ae;

    --border-color: #44474e;

    --shadow: 0 6px 15px rgba(0, 0, 0, 0.4);

    --color-save: #a3b18a; /* Color para el bot√≥n Guardar en oscuro */

}



* {

    padding: 0;

    margin: 0;

    box-sizing: border-box;

    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

    transition: background 0.2s, color 0.2s, border 0.2s, box-shadow 0.2s;

}



body {

    min-height: 100vh;

    display: flex;

    flex-direction: column;

    align-items: center;

    background: var(--bg-main);

    color: var(--color-txt);

}



/* ============================================ */

/* BARRA DE NAVEGACI√ìN Y VISTAS */

/* ============================================ */

.main-nav-bar {

    width: 100%;

    max-width: 900px;

    margin: 20px 0 10px;

    padding: 10px;

    background: var(--bg-second);

    border-radius: 10px;

    box-shadow: var(--shadow);

    display: flex;

    justify-content: space-around;

}



.nav-button {

    background: none;

    border: none;

    padding: 10px 15px;

    cursor: pointer;

    font-size: 1em;

    color: var(--color-txt-subtle);

    border-radius: 8px;

    transition: background 0.2s, color 0.2s;

}



.nav-button:hover {

    color: var(--primary-color);

}



.nav-button.active {

    background: var(--primary-color);

    color: var(--bg-main);

    font-weight: bold;

}



.view-container {

    width: 100%;

    max-width: 900px;

    margin-bottom: 20px;

}



.hidden {

    display: none !important;

}



/* ============================================ */

/* CALENDARIO */

/* ============================================ */

.calendar {

    width: 100%;

    height: auto;

    background: var(--bg-second);

    border-radius: 10px;

    box-shadow: var(--shadow);

    position: relative; 

}



.calendar-header {

    display: flex;

    justify-content: space-between;

    align-items: center;

    font-size: 20px;

    font-weight: 600;

    padding: 10px 20px;

    border-bottom: 1px solid var(--border-color);

}



.month-picker {

    padding: 5px 10px;

    border-radius: 10px;

    cursor: pointer;

    transition: background 0.2s;

}



.month-picker:hover {

    background: var(--bg-main);

}



.year-picker {

    display: flex;

    align-items: center;

}



.year-change {

    height: 40px;

    width: 40px;

    border-radius: 50%;

    display: grid;

    place-items: center;

    margin: 0 10px;

    cursor: pointer;

    transition: background 0.2s;

}



.year-change:hover {

    background: var(--secondary-color);

}



.calendar-body {

    padding: 10px 20px;

}



.calendar-week-day {

    height: 50px;

    display: grid;

    grid-template-columns: repeat(7, 1fr);

    font-weight: 600;

}



.calendar-week-day div {

    display: grid;

    place-items: center;

    color: var(--primary-color);

}



/* Contenedor principal de los d√≠as */

.calendar-days {

    display: grid;

    grid-template-columns: repeat(7, 1fr);

    gap: 5px;

}



/* Cada d√≠a individual */

.calendar-days div {

    color: var(--color-txt);

    height: 40px;

    display: flex; /* Asegura el centrado */

    align-items: center;

    justify-content: center;

    position: relative;

    cursor: pointer;

    animation: to-top 0.5s;

    user-select: none;

    font-weight: bold;

    border-radius: 10px; 

    z-index: 10;

    transition: background-color 0.2s; 

}



/* Estilo para los elementos internos del d√≠a (iconos) */

.calendar-days div span {

    position: absolute;

}



/* HOVER SIMPLE Y LIMPIO */

.calendar-days div.calendar-day-hover:hover {

    background-color: var(--bg-main);

}

/* El d√≠a actual no cambia de color al pasar el mouse, ya tiene su propio color */

.calendar-days div.curr-date:hover {

    background: var(--primary-color);

}





/* ESTILO: √çcono de Fase Lunar para ser clickeable (aseguramos display: block) */

.calendar-days div .moon-icon {

    position: absolute;

    bottom: 2px;

    right: 2px;

    font-size: 1.2em; 

    opacity: 1; 

    cursor: pointer; 

    z-index: 50; 

    transition: transform 0.1s;

    display: block; 

}



.calendar-days div .moon-icon:hover {

    transform: scale(1.2); 

}



/* D√≠a Actual */

.calendar-days div.curr-date {

    background: var(--primary-color);

    color: var(--bg-main);

    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);

}



/* ============================================ */

/* üíæ MARCADOR DE NOTAS GUARDADAS */

/* ============================================ */

.calendar-day-hover.has-note {

    /* Destaca el d√≠a que tiene una nota guardada */

    border: 2px solid var(--color-save) !important; 

    font-weight: bold;

    box-shadow: 0 0 5px var(--color-save);

}

.calendar-day-hover.curr-date.has-note {

    /* Mantiene el color del d√≠a actual */

    box-shadow: 0 0 8px rgba(0, 0, 0, 0.5), 0 0 5px var(--color-save) inset;

}





/* ============================================ */

/* LISTA DE MESES */

/* ============================================ */

.month-list {

    position: absolute; 

    top: 0;

    left: 0;

    width: 100%;

    height: 100%;

    background: var(--bg-second);

    padding: 20px;

    border-radius: 10px;

    display: grid;

    /* Aseguramos que se vea como una cuadr√≠cula de meses */

    grid-template-columns: repeat(3, 1fr); 

    gap: 10px;

    transform: scale(0); 

    pointer-events: none;

    opacity: 0;

    transition: all 0.2s ease-in-out;

    z-index: 100; 

}



.month-list.show {

    transform: scale(1); 

    pointer-events: auto;

    opacity: 1;

}



.month-list > div {

    display: grid;

    place-items: center;

}



.month-list > div > div {

    width: 100%;

    height: 100%;

    background: var(--bg-main);

    display: grid;

    place-items: center;

    cursor: pointer;

    border-radius: 10px;

    transition: background 0.2s, color 0.2s;

    padding: 10px;

}



.month-list > div > div:hover {

    background: var(--primary-color);

    color: var(--bg-main);

}



/* ============================================ */

/* MODO OSCURO SWITCH */

/* ============================================ */

.calendar-footer {

    display: flex;

    justify-content: flex-end; /* Alinea a la derecha */

    padding: 10px 20px;

}



.dark-mode-switch {

    display: flex;

    align-items: center;

    cursor: pointer;

    font-size: 0.9em;

    font-weight: 500;

}



.dark-mode-toggle {

    width: 40px;

    height: 20px;

    background-color: var(--color-txt-subtle);

    border-radius: 10px;

    margin-left: 10px;

    position: relative;

    transition: background-color 0.3s;

}



.dark-mode-toggle::after {

    content: '';

    position: absolute;

    top: 2px;

    left: 2px;

    width: 16px;

    height: 16px;

    background-color: var(--bg-second);

    border-radius: 50%;

    transition: transform 0.3s, background-color 0.3s;

}



/* Estado Oscuro */

body.dark .dark-mode-toggle {

    background-color: var(--primary-color);

}



body.dark .dark-mode-toggle::after {

    transform: translateX(20px);

    background-color: var(--bg-main);

}





/* ============================================ */

/* VISTAS ADICIONALES (SEEDS, RACES) */

/* ============================================ */

#seed-view, #race-view, #moon-advice-view {

    padding: 20px;

    background: var(--bg-second);

    border-radius: 10px;

    box-shadow: var(--shadow);

    margin-top: 10px;

}



/* Estilo espec√≠fico para Selectores (A√ëADIDO/CORREGIDO) */

.seed-controls select, .race-selector-container select {

    padding: 8px 12px;

    border-radius: 6px;

    border: 1px solid var(--border-color);

    background: var(--bg-main);

    color: var(--color-txt);

    font-size: 1em;

    cursor: pointer;

    margin-left: 10px;

}



.seed-controls label {

    font-weight: bold;

    color: var(--primary-color);

}





.seed-controls {

    margin-bottom: 20px;

    padding-bottom: 10px;

    border-bottom: 1px solid var(--border-color);

}



.seed-advice-container {

    display: grid;

    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));

    gap: 15px;

}



.advice-card {

    background: var(--bg-main);

    padding: 15px;

    border-radius: 8px;

    border-left: 5px solid var(--primary-color);

}



.advice-card h3 {

    color: var(--primary-color);

    margin-bottom: 10px;

    font-size: 1.1em;

}



.advice-card p {

    font-size: 0.95em;

    line-height: 1.4;

    margin-bottom: 5px;

}



/* VISTA DE RAZAS (CEPAS) */

#race-list {

    display: flex;

    flex-direction: column;

    gap: 20px;

    margin-top: 20px;

}



.race-card {

    display: flex;

    background: var(--bg-main);

    padding: 15px;

    border-radius: 10px;

    box-shadow: var(--shadow);

    border-left: 5px solid var(--secondary-color);

    align-items: center; /* Alineaci√≥n vertical de contenido */

}



.race-text {

    flex-grow: 1;

    padding-right: 15px;

}



.race-text h3 {

    margin-top: 0;

    color: var(--primary-color);

    font-size: 1.2em;

    border-bottom: 1px dashed var(--border-color);

    padding-bottom: 5px;

    margin-bottom: 10px;

}



.race-text p {

    margin-bottom: 5px;

    font-size: 0.9em;

}



.race-img {

    width: 150px;

    height: 150px;

    object-fit: cover;

    border-radius: 8px;

    flex-shrink: 0; /* Para que no se encoja */

}



.tags {

    margin-top: 10px;

}



.tag {

    display: inline-block;

    background: var(--secondary-color);

    color: var(--bg-main);

    padding: 3px 8px;

    border-radius: 12px;

    font-size: 0.8em;

    font-weight: bold;

    margin-right: 5px;

    margin-bottom: 5px;

}



/* Colores espec√≠ficos de Tags */

.tag-rapida { background-color: #f77f00; }

.tag-produccion { background-color: #588157; }

.tag-resistencia { background-color: #4ade80; }

.tag-vigorosa { background-color: #3b5998; }

.tag-potente { background-color: #9333ea; }

.tag-facil { background-color: #4cc9f0; }

.tag-interior { background-color: #7209b7; }





/* ============================================ */

/* VISTA DE CONSEJOS LUNARES (LUNAS) */

/* ============================================ */

#moon-advice-grid {

    display: grid;

    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));

    gap: 20px;

    margin-top: 20px;

}



.dynamic-advice-summary {

    grid-column: 1 / -1; /* Ocupa todo el ancho */

}



.moon-summary-box {

    background: var(--bg-main);

    padding: 15px;

    border-radius: 8px;

    border: 1px solid var(--primary-color);

}



.moon-advice-card {

    background: var(--bg-main);

    padding: 20px;

    border-radius: 10px;

    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);

}



.moon-advice-card h3 {

    color: var(--primary-color);

    font-size: 1.3em;

    margin-bottom: 5px;

}



.moon-advice-card h4 {

    color: var(--color-txt);

    font-size: 1em;

    margin-top: 10px;

    margin-bottom: 5px;

    border-bottom: 1px dashed var(--border-color);

    padding-bottom: 2px;

}



.moon-advice-card .savia-info {

    font-style: italic;

    color: var(--color-txt-subtle);

    margin-bottom: 15px;

}



.moon-advice-card ul, .moon-advice-card ol {

    padding-left: 20px;

    font-size: 0.9em;

    margin-bottom: 10px;

}



.avoid-list {

    color: #dc3545; /* Rojo para advertencias */

    font-weight: bold;

}



/* ============================================ */

/* ESTILOS DEL MODAL DE NOTAS */

/* ============================================ */

#modalBackdrop {

    position: fixed;

    top: 0;

    left: 0;

    width: 100%;

    height: 100%;

    background: rgba(0, 0, 0, 0.7);

    z-index: 900;

}



#notePanel {

    position: fixed;

    top: 50%;

    left: 50%;

    transform: translate(-50%, -50%);

    background: var(--bg-second);

    padding: 25px;

    border-radius: 15px;

    box-shadow: var(--shadow);

    z-index: 1000;

    width: 90%;

    max-width: 400px;

}



#notePanel h4 {

    margin-top: 0;

    margin-bottom: 15px;

    font-size: 1.3em;

    color: var(--primary-color);

}



#noteText {

    width: 100%;

    height: 120px;

    padding: 10px;

    margin-bottom: 15px;

    border: 1px solid var(--border-color);

    border-radius: 8px;

    resize: none;

    background: var(--bg-main);

    color: var(--color-txt);

    font-size: 1em;

}



.modal-actions {

    display: flex;

    justify-content: flex-end;

    gap: 10px;

}



.btn-save {

    background: var(--color-save);

    color: white;

    border: none;

    padding: 8px 15px;

    border-radius: 5px;

    cursor: pointer;

    font-weight: bold;

}



.btn-close {

    background: #dc3545;

    color: white;

    border: none;

    padding: 8px 15px;

    border-radius: 5px;

    cursor: pointer;

    font-weight: bold;

}
